[
    %% Set the schema...
    {schema, "schema.def"},

    %% Index the solr in "0"...
    {echo,   "Indexing documents..."},
    {solr,   "./solr_add.xml"},

    {echo,   "Verify that we find all five documents containing 'one'."},
    {search, "one", [{length, 5}]},
    {search, "value:one", [{length, 5}]},
    {search, "whitespace:one", [{length, 5}]},

    {echo,   "Verify string fields."},
    {search, "value:million", [{length, 1}]},
    {search, "value:million,a", [{length, 1}]},
    {search, "whitespace:million", [{length, 0}]},
    {search, "whitespace:million,a", [{length, 1}]},

    {echo,   "Verify inline fields."},
    {search, "key:one", [{property, <<"inline">>, <<"one">>}]},
    {search, "key:one AND inline:one", [{property, <<"inline">>, <<"one">>}]},
    {search, "key:twenty", [{property, <<"inline">>, <<"twenty">>}]},
    {search, "key:twenty AND inline:twenty", [{property, <<"inline">>, <<"twenty">>}]},

    {echo,   "Verify dynamic string fields."},
    {search, "dyn_sd:million", [{length, 1}]},
    {search, "dyn_sd:million,a", [{length, 1}]},
    {search, "dyn_sw:million", [{length, 0}]},
    {search, "dyn_sw:million,a", [{length, 1}]},
    {search, "sd_dyn:million", [{length, 1}]},
    {search, "sd_dyn:million,a", [{length, 1}]},
    {search, "sw_dyn:million", [{length, 0}]},
    {search, "sw_dyn:million,a", [{length, 1}]},

    {echo,   "Verify integer search."},
    {search, "int2:1", [{length, 1}]},
    {search, "int2:01", [{length, 1}]},
    {search, "int2:001", [{length, 0}]},
    {search, "int2:2", [{length, 1}]},
    {search, "int2:02", [{length, 1}]},
    {search, "int2:002", [{length, 0}]},
    {search, "int2:20", [{length, 1}]},
    {search, "int2:020", [{length, 0}]},
    {search, "int4:1", [{length, 1}]},
    {search, "int4:0001", [{length, 1}]},
    {search, "int4:00001", [{length, 0}]},
    {search, "int4:2", [{length, 1}]},
    {search, "int4:0002", [{length, 1}]},
    {search, "int4:00002", [{length, 0}]},
    {search, "int4:20", [{length, 1}]},
    {search, "int4:0020", [{length, 1}]},
    {search, "int4:00020", [{length, 0}]},

    {echo,   "Verify negative integer search."},
    {search, "int2:\"-1\"", [{length, 1}]},
    {search, "int2:\"-01\"", [{length, 0}]},
    {search, "int2:\"-2\"", [{length, 1}]},
    {search, "int2:\"-02\"", [{length, 0}]},
    {search, "int4:\"-1\"", [{length, 1}]},
    {search, "int4:\"-01\"", [{length, 1}]},
    {search, "int4:\"-001\"", [{length, 1}]},
    {search, "int4:\"-0001\"", [{length, 0}]},
    {search, "int4:\"-2\"", [{length, 1}]},
    {search, "int4:\"-02\"", [{length, 1}]},
    {search, "int4:\"-002\"", [{length, 1}]},
    {search, "int4:\"-0002\"", [{length, 0}]},

    {echo,   "Verify negative integer search."},
    {search, "int2:'-1'", [{length, 1}]},
    {search, "int2:'-01'", [{length, 0}]},
    {search, "int2:'-2'", [{length, 1}]},
    {search, "int2:'-02'", [{length, 0}]},
    {search, "int4:'-1'", [{length, 1}]},
    {search, "int4:'-01'", [{length, 1}]},
    {search, "int4:'-001'", [{length, 1}]},
    {search, "int4:'-0001'", [{length, 0}]},
    {search, "int4:'-2'", [{length, 1}]},
    {search, "int4:'-02'", [{length, 1}]},
    {search, "int4:'-002'", [{length, 1}]},
    {search, "int4:'-0002'", [{length, 0}]},

    {echo,   "Verify integer search with ranges."},
    {search, "int2:[1 TO 2]", [{length, 2}]},
    {search, "int2:[01 TO 02]", [{length, 2}]},
    {search, "int2:[2 TO 20]", [{length, 2}]},
    {search, "int2:[02 TO 20]", [{length, 2}]},
    {search, "int4:[1 TO 20]", [{length, 3}]},
    {search, "int4:[0001 TO 0020]", [{length, 3}]},
    {search, "int4:[1 TO 100]", [{length, 4}]},
    {search, "int4:[0001 TO 0100]", [{length, 4}]},
    {search, "int2:[\"-1\" TO 2]", [{length, 3}]},
    {search, "int2:[\"-2\" TO 2]", [{length, 4}]},
    {search, "int2:['-1' TO 2]", [{length, 3}]},
    {search, "int2:['-2' TO 2]", [{length, 4}]},

    {echo,   "Verify dynamic integer fields."},
    {search, "dyn_i:1", [{length, 1}]},
    {search, "dyn_i:0001", [{length, 1}]},
    {search, "dyn_i:2", [{length, 1}]},
    {search, "dyn_i:0002", [{length, 1}]},
    {search, "dyn_i:20", [{length, 1}]},
    {search, "dyn_i:0020", [{length, 1}]},
    {search, "i_dyn:1", [{length, 1}]},
    {search, "i_dyn:0001", [{length, 1}]},
    {search, "i_dyn:2", [{length, 1}]},
    {search, "i_dyn:0002", [{length, 1}]},
    {search, "i_dyn:20", [{length, 1}]},
    {search, "i_dyn:0020", [{length, 1}]},
    {search, "dyn_i:\"-1\"", [{length, 1}]},
    {search, "dyn_i:\"-001\"", [{length, 1}]},
    {search, "dyn_i:\"-0001\"", [{length, 0}]},
    {search, "dyn_i:\"-2\"", [{length, 1}]},
    {search, "dyn_i:\"-002\"", [{length, 1}]},
    {search, "dyn_i:\"-0002\"", [{length, 0}]},
    {search, "i_dyn:\"-1\"", [{length, 1}]},
    {search, "i_dyn:\"-001\"", [{length, 1}]},
    {search, "i_dyn:\"-0001\"", [{length, 0}]},
    {search, "i_dyn:\"-2\"", [{length, 1}]},
    {search, "i_dyn:\"-002\"", [{length, 1}]},
    {search, "i_dyn:\"-0002\"", [{length, 0}]},
    {search, "dyn_i:'-1'", [{length, 1}]},
    {search, "dyn_i:'-001'", [{length, 1}]},
    {search, "dyn_i:'-0001'", [{length, 0}]},
    {search, "dyn_i:'-2'", [{length, 1}]},
    {search, "dyn_i:'-002'", [{length, 1}]},
    {search, "dyn_i:'-0002'", [{length, 0}]},
    {search, "i_dyn:'-1'", [{length, 1}]},
    {search, "i_dyn:'-001'", [{length, 1}]},
    {search, "i_dyn:'-0001'", [{length, 0}]},
    {search, "i_dyn:'-2'", [{length, 1}]},
    {search, "i_dyn:'-002'", [{length, 1}]},
    {search, "i_dyn:'-0002'", [{length, 0}]},

    {echo,   "Verify integer search with ranges."},
    {search, "dyn_i:[1 TO 20]", [{length, 3}]},
    {search, "dyn_i:[0001 TO 0020]", [{length, 3}]},
    {search, "dyn_i:[1 TO 100]", [{length, 4}]},
    {search, "dyn_i:[0001 TO 0100]", [{length, 4}]},
    {search, "i_dyn:[1 TO 20]", [{length, 3}]},
    {search, "i_dyn:[0001 TO 0020]", [{length, 3}]},
    {search, "i_dyn:[1 TO 100]", [{length, 4}]},
    {search, "i_dyn:[0001 TO 0100]", [{length, 4}]},
    {search, "dyn_i:[\"-1\" TO 20]", [{length, 4}]},
    {search, "dyn_i:[\"-01\" TO 20]", [{length, 4}]},
    {search, "dyn_i:[\"-001\" TO 0020]", [{length, 4}]},
    {search, "i_dyn:[\"-1\" TO 20]", [{length, 4}]},
    {search, "i_dyn:[\"-01\" TO 20]", [{length, 4}]},
    {search, "i_dyn:[\"-001\" TO 0020]", [{length, 4}]},
    {search, "dyn_i:['-1' TO 20]", [{length, 4}]},
    {search, "dyn_i:['-01' TO 20]", [{length, 4}]},
    {search, "dyn_i:['-001' TO 0020]", [{length, 4}]},
    {search, "i_dyn:['-1' TO 20]", [{length, 4}]},
    {search, "i_dyn:['-01' TO 20]", [{length, 4}]},
    {search, "i_dyn:['-001' TO 0020]", [{length, 4}]},
    {search, "dyn_i:[20 TO '-1']", [{length, 4}]},
    {search, "dyn_i:[20 TO '-01']", [{length, 4}]},
    {search, "dyn_i:[0020 TO '-001']", [{length, 4}]},
    {search, "i_dyn:[20 TO '-1']", [{length, 4}]},
    {search, "i_dyn:[20 TO '-01']", [{length, 4}]},
    {search, "i_dyn:[0020 TO '-001']", [{length, 4}]},

    {echo,   "Verify dynamic inline fields."},
    {search, "key:one", [{property, <<"dyn_inline">>, <<"one">>}]},
    {search, "key:one AND dyn_inline:one", [{property, <<"dyn_inline">>, <<"one">>}]},
    {search, "(key:one OR key:two) AND dyn_inline:one", [{property, <<"dyn_inline">>, <<"one">>}]},

    {search, "key:twenty", [{property, <<"dyn_inline">>, <<"twenty">>}]},
    {search, "key:twenty AND dyn_inline:twenty", [{property, <<"dyn_inline">>, <<"twenty">>}]},
    {search, "(key:twenty OR key:hundred) AND dyn_inline:twenty", [{property, <<"dyn_inline">>, <<"twenty">>}]},

    {search, "key:one", [{property, <<"inline_dyn">>, <<"one">>}]},
    {search, "key:one AND inline_dyn:one", [{property, <<"inline_dyn">>, <<"one">>}]},
    {search, "(key:one OR key:two) AND inline_dyn:one", [{property, <<"inline_dyn">>, <<"one">>}]},

    {search, "key:twenty", [{property, <<"inline_dyn">>, <<"twenty">>}]},
    {search, "key:twenty AND inline_dyn:twenty", [{property, <<"inline_dyn">>, <<"twenty">>}]},
    {search, "(key:twenty OR key:hundred) AND inline_dyn:twenty", [{property, <<"inline_dyn">>, <<"twenty">>}]},

    {search, "inline:one", "inline:one", [{length, 1}]},
    {search, "inline:one", "inline:foo", [{length, 0}]},

    {echo,   "Verify field ordering."},
    {search, "order1_int:1", [{length, 1}]},
    {search, "order1_int:0001", [{length, 1}]},
    {search, "order2_int:1", [{length, 1}]},
    {search, "order2_int:0001", [{length, 1}]},

    {echo,   "Verify integer search with non-integer terms."},
    {search, "i_dyn:abc", [{length, 0}]},
    {search, "i_dyn:\"-\"", [{length, 0}]},

    {echo, "Test output formatting."},
    {solr_select, [{q, "key:date1"}, {wt, xml}], [{length, 1}]},
    {solr_select, [{q, "key:date1 OR key:date2"}, {wt, xml}], [{length, 2}]},
    {solr_select, [{q, "key:date1"}, {wt, json}], [{length, 1}]},
    {solr_select, [{q, "key:date1 OR key:date2"}, {wt, json}], [{length, 2}]},

    %% Cleanup.
    {echo,   "De-indexing documents..."},
    {solr,   "./solr_delete.xml"},
    {echo,   "Done."}
].
