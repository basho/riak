[
 %% Set the schema...
 {schema, "../_files/sample100/schema.def"},

 {echo,   "Indexing documents..."},
 {solr_update, "../_files/sample100/solr_add.xml"},

 {echo, "Perform some queries. (XML)"},
 {solr_select,
  [{q, "acc:ABC"}, {wt, xml}, {rows, 999}],
  [{length, 88}]},
 {solr_select,
  [{q, "(color:red OR color:blue)"}, {wt, xml}, {rows, 999}],
  [{length, 29}]},

 {echo, "Change default field. (XML)"},
 {solr_select,
  [{df, "key"}, {q, "keyAAB"}, {wt, xml}, {rows, 999}],
  [{length, 1}]},
 {solr_select,
  [{df, "color"}, {q, "red OR blue"}, {wt, xml}, {rows, 999}],
  [{length, 29}]},

 {echo, "Change default operation. (XML)"},
 {solr_select,
  [{"q.op", "or"}, {q, "AAC AAJ"}, {wt, xml}, {rows, 999}],
  [{length, 98}]},
 {solr_select,
  [{"q.op", "and"}, {q, "AAC AAJ"}, {wt, xml}, {rows, 999}],
  [{length, 91}]},

 {echo, "Test start. (XML)"},
 {solr_select,
  [{q, "acc:ABC"}, {wt, xml}, {start, 1}, {rows, 999}],
  [{length, 87}]},
 {solr_select,
  [{q, "acc:ABC"}, {wt, xml}, {start, 20}, {rows, 999}],
  [{length, 68}]},
 {solr_select,
  [{q, "acc:ABC"}, {wt, xml}, {start, 87}, {rows, 999}],
  [{length, 1}]},

 {echo, "Test rows. (XML)"},
 {solr_select,
  [{q, "acc:ABC"}, {wt, xml}, {rows, 10}, {rows, 999}],
  [{length, 10}]},
 {solr_select,
  [{q, "acc:ABC"}, {wt, xml}, {rows, 20}, {rows, 999}],
  [{length, 20}]},

 {echo, "Test start and rows. (XML)"},
 {solr_select,
  [{q, "acc:ABC"}, {wt, xml}, {start, 60}, {rows, 20}, {rows, 999}],
  [{length, 20}]},
 {solr_select,
  [{q, "acc:ABC"}, {wt, xml}, {start, 70}, {rows, 20}, {rows, 999}],
  [{length, 18}]},


 {echo, "Perform some queries. (JSON)"},
 {solr_select,
  [{q, "acc:ABC"}, {wt, json}, {rows, 999}],
  [{length, 88}]},
 {solr_select,
  [{q, "(color:red OR color:blue)"}, {wt, json}, {rows, 999}],
  [{length, 29}]},

 {echo, "Change default field. (JSON)"},
 {solr_select,
  [{df, "key"}, {q, "keyAAB"}, {wt, json}, {rows, 999}],
  [{length, 1}]},
 {solr_select,
  [{df, "color"}, {q, "red OR blue"}, {wt, json}, {rows, 999}],
  [{length, 29}]},

 {echo, "Change default operation. (JSON)"},
 {solr_select,
  [{"q.op", "or"}, {q, "AAC AAJ"}, {wt, json}, {rows, 999}],
  [{length, 98}]},
 {solr_select,
  [{"q.op", "and"}, {q, "AAC AAJ"}, {wt, json}, {rows, 999}],
  [{length, 91}]},

 {echo, "Test start. (JSON)"},
 {solr_select,
  [{q, "acc:ABC"}, {wt, json}, {start, 1}, {rows, 999}],
  [{length, 87}]},
 {solr_select,
  [{q, "acc:ABC"}, {wt, json}, {start, 20}, {rows, 999}],
  [{length, 68}]},
 {solr_select,
  [{q, "acc:ABC"}, {wt, json}, {start, 87}, {rows, 999}],
  [{length, 1}]},

 {echo, "Test rows. (JSON)"},
 {solr_select,
  [{q, "acc:ABC"}, {wt, json}, {rows, 10}, {rows, 999}],
  [{length, 10}]},
 {solr_select,
  [{q, "acc:ABC"}, {wt, json}, {rows, 20}, {rows, 999}],
  [{length, 20}]},

 {echo, "Test start and rows. (JSON)"},
 {solr_select,
  [{q, "acc:ABC"}, {wt, json}, {start, 60}, {rows, 20}, {rows, 999}],
  [{length, 20}]},
 {solr_select,
  [{q, "acc:ABC"}, {wt, json}, {start, 70}, {rows, 20}, {rows, 999}],
  [{length, 18}]},

 {echo, "Test fl (JSON)"},
 {solr_select,
  [{q, "key:[keyAAA TO keyAAC]"}, {fl, "id"}, {wt, json}],
  [{length, 3}, {docids, [<<"idAAA">>, <<"idAAB">>, <<"idAAC">>]}]},

  {solr_select,
   [{q, "key:[keyAAA TO keyAAC]"}, {fl, "id"}, {sort, "color"}, {wt, json}],
   400,
   [{length, 3}, {docids, [<<"idAAA">>, <<"idAAB">>, <<"idAAC">>]}]},

 {solr_select,
  [{q, "key:[keyAAA TO keyAAC]"}, {fl, "id,color"}, {sort, "color"}, {wt, json}],
  [{length, 3}, {docids, [<<"idAAB">>, <<"idAAA">>, <<"idAAC">>]}]},

 {solr_select,
  [{q, "key:[keyAAA TO keyAAC]"}, {fl, "id,parity"}, {sort, "color"}, {wt, json}],
  [{length, 3}, {docids, [<<"idAAB">>, <<"idAAA">>, <<"idAAC">>]}]},

 {echo, "Test fl (XML)"},
 {solr_select,
  [{q, "key:[keyAAA TO keyAAC]"}, {fl, "id"}, {wt, xml}],
  [{length, 3}, {docids, ["idAAA", "idAAB", "idAAC"]}]},

  {solr_select,
   [{q, "key:[keyAAA TO keyAAC]"}, {fl, "id"}, {sort, "color"}, {wt, xml}],
   400,
   [{length, 3}, {docids, ["idAAA", "idAAB", "idAAC"]}]},

 {solr_select,
  [{q, "key:[keyAAA TO keyAAC]"}, {fl, "id,color"}, {sort, "color"}, {wt, xml}],
  [{length, 3}, {docids, ["idAAB", "idAAA", "idAAC"]}]},

 {solr_select,
  [{q, "key:[keyAAA TO keyAAC]"}, {fl, "id,parity"}, {sort, "color"}, {wt, xml}],
  [{length, 3}, {docids, ["idAAB", "idAAA", "idAAC"]}]},

 {echo, "Test <commit />, which is a noop in Riak Search."},
 {solr_update, "./commit.xml"},

 {echo, "Test <optimize />, which is a noop in Riak Search."},
 {solr_update, "./optimize.xml"},

 %% Cleanup.
 {echo, "De-indexing documents..."},
 {solr_update, "../_files/sample100/solr_delete_all.xml"},
 {echo, "Done"}
].
